<mat-spinner [diameter]="50" *ngIf="spinnerService.visibility | async; else container"></mat-spinner>

<ng-template #container>
  <div class="hero wrapper">
    <h1>{{ ship.ship_name }}</h1>
    <div *ngIf="ship.active; else noActive">
      <mat-icon aria-hidden="false" aria-label="Ship is active" color="primary" fontIcon="directions_boat"></mat-icon>
    </div>
    <ng-template #noActive>
      <mat-icon aria-hidden="false" aria-label="Ship is not active" fontIcon="mode_fan_off"></mat-icon>
    </ng-template>
    <h2>{{ ship.home_port }} | {{ ship.ship_type }}</h2>
    <h3>Year build: {{ ship.year_built }}</h3>
    <div
      class="background"
      [ngStyle]="{
        'background-image': 'url(' + ship.image + ')'
      }"
    ></div>
  </div>

  <mat-spinner [diameter]="50" *ngIf="spinnerService.visibility | async; else launches"></mat-spinner>
    <ng-template #launches>
    <mat-grid-list [cols]="3" rowHeight="600px" gutterSize="10px">
      <mat-grid-tile *ngFor="let launch of ALaunches">
        <mat-card class="mission-card">
          <mat-card-header>
            <div
              mat-card-avatar
              class="header-image"
              [ngStyle]="{
                'background-image': 'url(' + launch.links.mission_patch_small + ')'
              }"
            ></div>
            <mat-card-title>{{ launch.mission_name }}</mat-card-title>
            <mat-card-subtitle>{{ launch.rocket.rocket_name }} | {{ launch.launch_year }} </mat-card-subtitle>
          </mat-card-header>
          <img mat-card-image src="{{ launch.links.mission_patch }}" alt="{{ launch.mission_name }}" />
          <mat-divider inset></mat-divider>
          <mat-card-actions>
            <button mat-button [routerLink]="['/launch', launch.flight_number]">MORE</button>
          </mat-card-actions>
        </mat-card>
      </mat-grid-tile>
    </mat-grid-list>

    <mat-paginator
      [showFirstLastButtons]="true"
      [length]="pageLength"
      [pageSize]="pageSize"
      [pageSizeOptions]="pageSizeOptions"
      (page)="OnPaginate($event)"
    >
    </mat-paginator>
  </ng-template>

  <app-back-button></app-back-button>

</ng-template>
